(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["devise-pages"],{"0842":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"dvs-flex",attrs:{id:"devise-admin-content"}},[a("action-bar",[a("li",{staticClass:"dvs-btn dvs-btn-sm dvs-mb-2",style:e.theme.actionButton,on:{click:function(t){return e.goToPage("devise-pages-create")}}},[e._v("Create New Page")])]),a("div",{staticClass:"dvs-w-2/5 dvs-border-r dvs--my-10 dvs--ml-10 dvs-mr-8 dvs-p-8",style:{borderColor:e.theme.panelCard.background,background:e.theme.panelCard.background}},[a("button",{staticClass:"dvs-btn dvs-btn-zero dvs-btn-text dvs-mb-8",style:{color:e.theme.actionButtonGhost.color},on:{click:e.historyBack}},[e._v("Back")]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[a("label",[e._v("Search Pages")]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.searchTerm,expression:"searchTerm",modifiers:{lazy:!0}},{name:"debounce",rawName:"v-debounce",value:e.searchDelay,expression:"searchDelay"}],staticClass:"dvs-mb-4",attrs:{type:"text"},domProps:{value:e.searchTerm},on:{change:function(t){e.searchTerm=t.target.value}}}),a("div",{staticClass:"dvs-relative"},[a("ul",{staticClass:"dvs-list-reset dvs-bg-white dvs-text-black dvs-absolute dvs-shadow-lg"},e._l(e.autosuggest.data,function(t,s){return a("li",{key:s,staticClass:"dvs-border-b dvs-border-grey-lighter dvs-p-4 dvs-cursor-pointer dvs-text-sm hover:dvs-bg-grey-lighter",on:{click:function(t){return e.loadPage(s)}}},[e._v(e._s(t))])}),0)])]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[a("label",[e._v("Current Language")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filters.language_id,expression:"filters.language_id"}],staticClass:"dvs-mb-4",attrs:{type:"text"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.filters,"language_id",t.target.multiple?a:a[0])},function(t){return e.retrieveAllPages(!1)}]}},e._l(e.languages.data,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.code)+"\n          ")])}),0)])]),a("div",{style:{color:e.theme.panel.color}},[a("h2",{staticClass:"dvs-mb-10",style:{color:e.theme.panel.color}},[e._v("Current Site Pages")]),e._l(e.pages.data,function(t){return a("div",{key:t.id,staticClass:"dvs-mb-6 dvs-flex dvs-justify-between dvs-items-center"},[a("div",{staticClass:"dvs-font-light dvs-pr-8 dvs-w-2/5"},[e._v(e._s(t.title))]),a("div",{staticClass:"dvs-text-xs dvs-px-8 dvs-font-mono dvs-w-2/5"},[e._v(e._s(t.slug))]),a("div",{staticClass:"dvs-px-8 dvs-flex dvs-justify-end dvs-w-1/5"},[a("button",{staticClass:"dvs-btn dvs-btn-xs dvs-mr-2",style:e.theme.actionButtonGhost,on:{click:function(a){return e.loadPage(t.id)}}},[e._v("Manage")]),a("a",{staticClass:"dvs-btn dvs-btn-xs",style:e.theme.actionButtonGhost,attrs:{href:e.getSlug(t)}},[e._v("Go")])])])}),e.pages.data&&e.pages.data.length?a("pagination",{staticClass:"mb-8",attrs:{meta:e.pages.meta},on:{changePage:e.changePage}}):e._e()],2)],1)])},n=[],i=a("5176"),l=a.n(i),o=a("cebc"),r=a("492a"),c=a.n(r),u=a("2f62"),d=a("2955"),v={name:"PagesIndex",data:function(){return{modulesToLoad:2,filters:{page:"1",language_id:"1"},showCreate:!1,searchDelay:1e3,searchTerm:"",autosuggest:{data:[]},newPage:{layout:null,language_id:null,translated_from_page_id:0,title:null,slug:null,canonical:null,head:null,footer:null,middleware:"web",published:!1,copy_page:!1,copy_page_id:0,copy_page_title:"Search Page"}}},mounted:function(){this.retrieveAllPages(),this.retrieveAllLanguages()},methods:Object(o["a"])({},Object(u["b"])("devise",["getPages","searchPages","getLanguages","createPage"]),{requestCreatePage:function(){var e=this;this.createPage(this.newPage).then(function(){e.newPage.template_id=null,e.newPage.language_id=null,e.newPage.title=null,e.newPage.slug=null,e.newPage.published=!1,e.showCreate=!1})},retrieveAllPages:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.getPages(this.filters).then(function(){t&&window.deviseSettings.$bus.$emit("incrementLoadbar",e.modulesToLoad)})},retrieveAllLanguages:function(){var e=this;this.getLanguages().then(function(){window.deviseSettings.$bus.$emit("incrementLoadbar",e.modulesToLoad)})},loadPage:function(e){this.$router.push({name:"devise-pages-view",params:{pageId:e}})},requestSearch:function(e){var t=this;""!==e?this.searchPages(e).then(function(a){t.autosuggest=a,a.data.length<1&&window.deviseSettings.$bus.$emit("showMessage",{title:"No Suggestions Found",message:"We couldn't find any pages with the term: \"".concat(e,'".')})}):this.autosuggest=l()({},{})},changePage:function(e){this.filters.page=e,this.retrieveAllPages(!1)},getSlug:function(e){return e.is_live?e.slug:!!e.versions&&"".concat(e.slug,"?version_id=").concat(e.versions[0].id)}}),watch:{searchTerm:function(e){this.requestSearch(e)}},computed:Object(o["a"])({},Object(u["c"])("devise",["pages","languages"]),{createInvalid:function(){return null===this.newPage.title||null===this.newPage.layout&&!this.newPage.copy_page&&0===this.newPage.copy_page_id||null===this.newPage.language_id||null===this.newPage.slug}}),components:{ActionBar:function(){return Promise.all([a.e("devise-editors~devise-utilities"),a.e("devise-utilities")]).then(a.bind(null,"f8ec"))},Pagination:function(){return a.e("devise-tables").then(a.bind(null,"dbce"))}},directives:{debounce:c.a},mixins:[d["a"]]},g=v,h=a("0c7c"),p=Object(h["a"])(g,s,n,!1,null,null,null);t["default"]=p.exports},2955:function(e,t,a){"use strict";t["a"]={methods:{historyBack:function(){this.$router.go(-1)}}}},"2e31":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dvs-p-8"},[a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Page Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editPage.title,expression:"editPage.title"}],staticClass:"dvs-small",attrs:{type:"text",placeholder:"Title of the Page"},domProps:{value:e.editPage.title},on:{input:function(t){t.target.composing||e.$set(e.editPage,"title",t.target.value)}}})]),a("button",{staticClass:"dvs-btn dvs-block dvs-w-full dvs-mb-2",style:e.theme.actionButton,on:{click:function(t){return t.preventDefault(),e.requestSavePage()}}},[e._v("Save Page")]),a("router-link",{staticClass:"dvs-btn dvs-block",style:e.theme.actionButtonGhost,attrs:{to:{name:"devise-pages-view",params:{pageId:e.page.id}}}},[e._v("All Settings")])],1)},n=[],i=a("cebc"),l=a("2f62"),o={name:"PageSettings",data:function(){return{pageSlices:[],pageSettingsOpen:!1,pageContentOpen:!0}},mounted:function(){this.pageSlices=this.page.slices},methods:Object(i["a"])({},Object(l["b"])("devise",["savePage"]),{requestSavePage:function(){this.savePage(this.page)},toggleSlice:function(e){e.metadata.open?this.closeSlice(e):this.openSlice(e)},openSlice:function(e){var t=this;this.pageSlices.map(function(e){return t.closeSlice(e)}),this.$set(e.metadata,"open",!0)},closeSlice:function(e){this.$set(e.metadata,"open",!1)}}),computed:Object(i["a"])({},Object(l["c"])("devise",["sliceConfig","fieldConfig"]),{editPage:{get:function(){return this.page},set:function(e){this.$emit("updatePage",e)}}}),props:["page"]},r=o,c=a("0c7c"),u=Object(c["a"])(r,s,n,!1,null,null,null);t["default"]=u.exports},"492a":function(e,t,a){const s=a("b8f9");function n(e,t){t.value!==t.oldValue&&(e.oninput=n.debounce(function(t){e.dispatchEvent(i("change"))},parseInt(t.value)||800))}function i(e){if("function"===typeof Event)var t=new Event(e);else{t=document.createEvent("Event");t.initEvent(e,!0,!0)}return t}n.debounce=s,e.exports=n},"4cae":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.localValue.id?a("div",{attrs:{id:"devise-admin-content"}},[a("div",{style:{borderColor:e.theme.panelCard.background,background:e.theme.panelCard.background},attrs:{id:"dvs-admin-sidebar"}},[a("button",{staticClass:"dvs-btn dvs-btn-zero dvs-btn-text dvs-mb-8",style:{color:e.theme.actionButtonGhost.color},on:{click:e.historyBack}},[e._v("Back")]),a("h6",{staticClass:"dvs-mb-4",style:{color:e.theme.panel.color}},[e._v("Actions")]),a("ul",[a("li",[a("a",{style:{color:e.theme.panel.color},attrs:{href:e.localValue.slug}},[e._v("Go To Page")])]),a("li",{staticClass:"cursor-pointer",on:{click:function(t){e.showTranslate=!0}}},[e._v("Translate This Page")]),a("li",{directives:[{name:"devise-alert-confirm",rawName:"v-devise-alert-confirm",value:{callback:e.requestDeletePage,message:"Are you sure you want to delete this page?"},expression:"{callback: requestDeletePage, message: 'Are you sure you want to delete this page?'}"}],staticClass:"cursor-pointer"},[e._v("Delete This Page")])]),a("h6",{staticClass:"dvs-mb-4",style:{color:e.theme.panel.color}},[e._v("Sections")]),a("ul",{staticClass:"dvs-list-reset dvs-mb-10 dvs-text-sm dvs-font-thin"},[a("li",{staticClass:"dvs-mb-2"},[a("a",{staticClass:"scrollactive-item",style:{color:e.theme.panel.color},attrs:{href:"#versions"}},[e._v("Versions of this Page")])]),a("li",{staticClass:"dvs-mb-2"},[a("a",{staticClass:"scrollactive-item",style:{color:e.theme.panel.color},attrs:{href:"#settings"}},[e._v("Global Page Settings")])]),a("li",{staticClass:"dvs-mb-2"},[a("a",{staticClass:"scrollactive-item",style:{color:e.theme.panel.color},attrs:{href:"#meta-tags"}},[e._v("Meta Tags")])]),a("li",{staticClass:"dvs-mb-2"},[a("a",{staticClass:"scrollactive-item",style:{color:e.theme.panel.color},attrs:{href:"#header-footer"}},[e._v("Header / Footer")])]),a("li",{staticClass:"dvs-mb-2"},[a("a",{staticClass:"scrollactive-item",style:{color:e.theme.panel.color},attrs:{href:"#middleware"}},[e._v("Middleware")])])])]),a("div",{attrs:{id:"dvs-admin-main"}},[a("h1",{staticClass:"dvs-mb-8 dvs-font-hairline",style:{color:e.theme.panel.color}},[e._v(e._s(e.localValue.title))]),e.analytics.data?[a("h3",{staticClass:"dvs-mb-8 dvs-pr-16",style:{color:e.theme.panel.color}},[e._v(e._s(e.localValue.title)+" Analytics")]),a("div",{staticClass:"flex dvs-mb-8"},[a("fieldset",{staticClass:"dvs-fieldset mr-8"},[a("label",[e._v("Analytics Start Date")]),a("date-picker",{attrs:{settings:{date:!0,time:!1},placeholder:"Start Date"},on:{update:function(t){return e.retrieveAnalytics()}},model:{value:e.analyticsDateRange.start,callback:function(t){e.$set(e.analyticsDateRange,"start",t)},expression:"analyticsDateRange.start"}})],1),a("fieldset",{staticClass:"dvs-fieldset"},[a("label",[e._v("Analytics End Date")]),a("date-picker",{attrs:{settings:{date:!0,time:!1},placeholder:"End Date"},on:{update:function(t){return e.retrieveAnalytics()}},model:{value:e.analyticsDateRange.end,callback:function(t){e.$set(e.analyticsDateRange,"end",t)},expression:"analyticsDateRange.end"}})],1)]),e.mothershipApiKey?a("div",{staticClass:"dvs-mb-12"},[a("line-chart",{staticClass:"dvs-mb-8",attrs:{"chart-data":e.analytics.data,options:e.options,width:800,height:200}})],1):e._e()]:e._e(),a("h3",{staticClass:"dvs-mb-8 dvs-pr-16",style:{color:e.theme.panel.color},attrs:{id:"versions"}},[e._v(e._s(e.localValue.title)+" Page Versions")]),a("help",{staticClass:"dvs-mb-8"},[e._v("Page versions allow your team to create alternate versions of a page for devlopment, historical purposes, and for A/B testing which allow you to run two pages at once to test user success rates")]),a("div",{staticClass:"dvs-mb-16"},e._l(e.localValue.versions,function(t,s){return a("div",{key:s,staticClass:"dvs-flex-grow dvs-rounded-sm dvs-shadow-sm dvs-mb-4"},[a("div",{staticClass:"dvs-text-xl dvs-font-bold dvs-mb-4 dvs-flex dvs-justify-between"},[a("div",{staticClass:"dvs-cursor-pointer dvs-flex",on:{click:function(a){return e.toggleVersionSettings(t)}}},[t.editName?e._e():[a("div",{staticClass:"dvs-mr-2"},[a("edit-icon",{attrs:{w:"25",h:"25"}})],1),a("div",[e._v("\n                  "+e._s(t.name)+"\n                  "),t.is_live?[e._v("(Currently Live)")]:e._e()],2)]],2)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showSettings,expression:"version.showSettings"}],staticClass:"dvs-mb-16"},[a("div",[a("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[a("label",[e._v("Version Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.versions[s].name,expression:"localValue.versions[key].name"}],attrs:{type:"text"},domProps:{value:e.localValue.versions[s].name},on:{input:function(t){t.target.composing||e.$set(e.localValue.versions[s],"name",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[a("label",[e._v("Layout")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.localValue.versions[s].layout,expression:"localValue.versions[key].layout"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.localValue.versions[s],"layout",t.target.multiple?a:a[0])}}},e._l(e.layouts,function(t,s){return a("option",{key:t,domProps:{value:t}},[e._v(e._s(s))])}),0)]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[a("label",[e._v("Start Date")]),a("date-picker",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{settings:{date:!0,time:!0},placeholder:"Start Date",title:"The date in which this version will begin appearing."},model:{value:e.localValue.versions[s].starts_at,callback:function(t){e.$set(e.localValue.versions[s],"starts_at",t)},expression:"localValue.versions[key].starts_at"}})],1),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[a("label",[e._v("End Date")]),a("date-picker",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{settings:{date:!0,time:!0},placeholder:"End Date",title:"The date when this page version will stop appearing. This page will either fall back to another page version or produce a 404: Page Not Found if a user attempts to load it."},model:{value:e.localValue.versions[s].ends_at,callback:function(t){e.$set(e.localValue.versions[s],"ends_at",t)},expression:"localValue.versions[key].ends_at"}})],1),e.localValue.ab_testing_enabled?a("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[a("label",[e._v("A/B Testing Amount")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.localValue.versions[s].ab_testing_amount,expression:"localValue.versions[key].ab_testing_amount",modifiers:{number:!0}},{name:"tippy",rawName:"v-tippy"}],attrs:{type:"number",title:"This is the weight in which a page will show up. The number can be any number you want and is divided by the total weights of all other page versions."},domProps:{value:e.localValue.versions[s].ab_testing_amount},on:{input:function(t){t.target.composing||e.$set(e.localValue.versions[s],"ab_testing_amount",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]):e._e()]),a("div",{staticClass:"dvs-flex dvs-justify-start"},[a("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"dvs-btn dvs-mr-4 dvs-px-8",style:e.theme.actionButton,attrs:{title:"Save Version Settings"},on:{click:function(a){return e.requestSaveVersion(t)}}},[a("checkmark-icon",{attrs:{w:"30",h:"30"}})],1),a("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"dvs-btn dvs-mr-4 dvs-px-8",style:e.theme.actionButtonGhost,attrs:{title:"Copy Version"},on:{click:function(a){return e.requestCopyVersion(t)}}},[a("copy-icon",{attrs:{w:"30",h:"30"}})],1),a("button",{directives:[{name:"tippy",rawName:"v-tippy"},{name:"devise-alert-confirm",rawName:"v-devise-alert-confirm",value:{callback:e.requestDeleteVersion,arguments:t,message:"Are you sure you want to delete this version?"},expression:"{callback: requestDeleteVersion, arguments:version, message: 'Are you sure you want to delete this version?'}"}],staticClass:"dvs-btn dvs-mr-2 dvs-px-8",style:e.theme.actionButtonGhost},[a("trash-icon",{attrs:{w:"30",h:"30"}})],1)])])])}),0),a("h3",{staticClass:"dvs-mb-8 dvs-pr-16",style:{color:e.theme.panel.color},attrs:{id:"settings"}},[e._v("Global Page Settings")]),a("help",{staticClass:"dvs-mb-8"},[e._v("These settings effect all of the page versions of this page.")]),a("div",{staticClass:"dvs-mb-12"},[a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.title,expression:"localValue.title"}],attrs:{type:"text",placeholder:"Title of the Page"},domProps:{value:e.localValue.title},on:{input:function(t){t.target.composing||e.$set(e.localValue,"title",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Slug")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.slug,expression:"localValue.slug"}],attrs:{type:"text",placeholder:"Url of the Page"},domProps:{value:e.localValue.slug},on:{input:function(t){t.target.composing||e.$set(e.localValue,"slug",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Meta Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.meta_title,expression:"localValue.meta_title"}],attrs:{type:"text",placeholder:"Meta title of the Page"},domProps:{value:e.localValue.meta_title},on:{input:function(t){t.target.composing||e.$set(e.localValue,"meta_title",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[a("label",[e._v("Canonical")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.canonical,expression:"localValue.canonical"}],attrs:{type:"text",placeholder:"Canonical"},domProps:{value:e.localValue.canonical},on:{input:function(t){t.target.composing||e.$set(e.localValue,"canonical",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[a("label",[e._v("A/B Testing Enabled")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.ab_testing_enabled,expression:"localValue.ab_testing_enabled"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.localValue.ab_testing_enabled)?e._i(e.localValue.ab_testing_enabled,null)>-1:e.localValue.ab_testing_enabled},on:{change:function(t){var a=e.localValue.ab_testing_enabled,s=t.target,n=!!s.checked;if(Array.isArray(a)){var i=null,l=e._i(a,i);s.checked?l<0&&e.$set(e.localValue,"ab_testing_enabled",a.concat([i])):l>-1&&e.$set(e.localValue,"ab_testing_enabled",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(e.localValue,"ab_testing_enabled",n)}}})]),a("h3",{staticClass:"dvs-mb-4",style:{color:e.theme.panel.color},attrs:{id:"meta-tags"}},[e._v("Page Specific Meta Tags")]),a("fieldset",{staticClass:"dvs-fieldset"},[a("meta-form",{attrs:{"global-form":!1},on:{"request-create-meta":e.requestCreateMeta,"request-update-meta":e.requestUpdateMeta,"request-delete-meta":e.requestDeleteMeta},model:{value:e.localValue.meta,callback:function(t){e.$set(e.localValue,"meta",t)},expression:"localValue.meta"}})],1),a("div",{staticClass:"dvs-mb-10",attrs:{id:"header-footer"}},[a("h3",{staticClass:"dvs-mb-4",style:{color:e.theme.panel.color}},[e._v("Header / Footer Content")]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Head")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.localValue.head,expression:"localValue.head"}],staticClass:"dvs-w-1/2",domProps:{value:e.localValue.head},on:{input:function(t){t.target.composing||e.$set(e.localValue,"head",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset"},[a("label",[e._v("Footer")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.localValue.footer,expression:"localValue.footer"}],staticClass:"dvs-w-1/2",domProps:{value:e.localValue.footer},on:{input:function(t){t.target.composing||e.$set(e.localValue,"footer",t.target.value)}}})])]),a("div",{staticClass:"dvs-mb-10",attrs:{id:"middleware"}},[a("h3",{staticClass:"dvs-mb-4",style:{color:e.theme.panel.color}},[e._v("Middleware")]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Middleware")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.middleware,expression:"localValue.middleware"}],staticClass:"dvs-w-1/2",attrs:{type:"text"},domProps:{value:e.localValue.middleware},on:{input:function(t){t.target.composing||e.$set(e.localValue,"middleware",t.target.value)}}})])]),a("div",{staticClass:"dvs-flex"},[a("button",{staticClass:"dvs-btn dvs-mr-2",style:e.theme.actionButton,on:{click:e.requestSavePage}},[e._v("Save")]),a("button",{staticClass:"dvs-btn dvs-mr-4",style:e.theme.actionButtonGhost,on:{click:e.goToPage}},[e._v("Cancel")])])])],2)]):e._e(),a("transition",{attrs:{name:"dvs-fade"}},[e.showCopy?a("devise-modal",{staticClass:"dvs-z-50",on:{close:function(t){e.showCopy=!1}}},[a("h4",{staticClass:"dvs-mb-4"},[e._v("Copy this page")]),a("help",{staticClass:"dvs-mb-4"},[e._v("This will create a whole new page based on this page copying all settings and values associated with it.")]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Page Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pageToCopy.title,expression:"pageToCopy.title"}],attrs:{type:"text",placeholder:"Title of the Page"},domProps:{value:e.pageToCopy.title},on:{input:function(t){t.target.composing||e.$set(e.pageToCopy,"title",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Slug")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pageToCopy.slug,expression:"pageToCopy.slug"}],attrs:{type:"text",placeholder:"Url of the Page"},domProps:{value:e.pageToCopy.slug},on:{input:function(t){t.target.composing||e.$set(e.pageToCopy,"slug",t.target.value)}}})]),a("button",{staticClass:"dvs-btn",attrs:{disabled:null===e.pageToCopy.title||null===e.pageToCopy.slug},on:{click:e.requestCopyPage}},[e._v("Create")]),a("button",{staticClass:"dvs-btn",on:{click:function(t){e.showCopy=!1}}},[e._v("Cancel")])],1):e._e()],1),a("transition",{attrs:{name:"dvs-fade"}},[e.showTranslate?a("devise-modal",{staticClass:"dvs-z-50",on:{close:function(t){e.showTranslate=!1}}},[a("h4",{staticClass:"dvs-mb-4"},[e._v("Translate this page")]),a("help",{staticClass:"dvs-mb-4"},[e._v("This will create a translated page associated with this page. While the pages are connected to allow users to switch between translations they do have their own settings and versions.")]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Page Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pageToTranslate.title,expression:"pageToTranslate.title"}],attrs:{type:"text",placeholder:"Title of the Page"},domProps:{value:e.pageToTranslate.title},on:{input:function(t){t.target.composing||e.$set(e.pageToTranslate,"title",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Languages")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.translateLanguage,expression:"translateLanguage"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.translateLanguage=t.target.multiple?a:a[0]}}},[a("option",{domProps:{value:null}},[e._v("Please select a language")]),e._l(e.languages.data,function(t){return a("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.code))])})],2)]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Slug")]),a("div",{staticClass:"dvs-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.translateLanguage.code,expression:"translateLanguage.code"}],staticClass:"dvs-max-w-3xs",attrs:{type:"text",disabled:"disabled"},domProps:{value:e.translateLanguage.code},on:{input:function(t){t.target.composing||e.$set(e.translateLanguage,"code",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pageToTranslate.slug,expression:"pageToTranslate.slug"}],attrs:{type:"text",placeholder:"Url of the Page"},domProps:{value:e.pageToTranslate.slug},on:{input:function(t){t.target.composing||e.$set(e.pageToTranslate,"slug",t.target.value)}}})])]),a("button",{staticClass:"dvs-btn",attrs:{disabled:null===e.pageToTranslate.title||null===e.pageToTranslate.slug||null===e.translateLanguage},on:{click:e.requestTranslatePage}},[e._v("Translate")]),a("button",{staticClass:"dvs-btn",on:{click:function(t){e.showTranslate=!1}}},[e._v("Cancel")])],1):e._e()],1)],1)},n=[],i=a("5176"),l=a.n(i),o=a("cebc"),r=a("2f62"),c=a("2955"),u=a("6e12"),d={name:"PagesView",data:function(){return{analytics:{},analyticsDateRange:{start:null,end:null},localValue:{},modulesToLoad:2,showCopy:!1,showTranslate:!1,pageToCopy:{title:null,slug:null},translateLanguage:{},pageToTranslate:{title:null,slug:null,language_id:null},colors:[{background:"rgba(54, 162, 235, 0.5)",border:"rgba(54, 162, 235, 1)"},{background:"rgba(75, 192, 192, 0.2)",border:"rgba(75, 192, 192, 1)"},{background:"rgba(255, 206, 86, 0.2)",border:"rgba(255, 206, 86, 1)"},{background:"rgba(255, 99, 132, 0.2)",border:"rgba(255,99,132,1)"},{background:"rgba(153, 102, 255, 0.2)",border:"rgba(153, 102, 255, 1)"},{background:"rgba(255, 159, 64, 0.2)",border:"rgba(255, 159, 64, 1)"}]}},mounted:function(){this.retrievePage(),this.retrieveAllLanguages(),this.setDefaultAnalytics()},methods:Object(o["a"])({},Object(r["b"])("devise",["copyPage","copyPageVersion","deletePage","deletePageVersion","getPageAnalytics","getPage","getLanguages","translatePage","updatePage","updatePageVersion"]),{requestSavePage:function(){var e=this;this.updatePage({data:this.localValue}).then(function(){e.localValue.id===e.currentPage.id&&window.location.reload()})},requestCopyPage:function(){var e=this;this.copyPage({data:this.pageToCopy}).then(function(){e.pageToCopy.title=null,e.pageToCopy.slug=null,e.showCopy=!1})},requestTranslatePage:function(){var e=this;this.pageToTranslate.language_id=this.translateLanguage.id,this.pageToTranslate.slug="/".concat(this.translateLanguage.code).concat(this.pageToTranslate.slug),this.translatePage({page:this.localValue,data:this.pageToTranslate}).then(function(){e.pageToTranslate.title=null,e.pageToTranslate.slug=null,e.pageToTranslate.language_id=null,e.showTranslate=!1})},requestSaveVersion:function(e){this.updatePageVersion({page:this.localValue,version:e})},requestCopyVersion:function(e){this.copyPageVersion({page:this.localValue,version:e})},requestDeleteVersion:function(e){this.deletePageVersion({page:this.localValue,version:e})},requestCreateMeta:function(e){this.localValue.meta.push(e)},requestUpdateMeta:function(e){e.edit=!1},requestDeleteMeta:function(e){this.localValue.meta.splice(this.localValue.meta.indexOf(e),1)},requestDeletePage:function(){var e=this;this.deletePage(this.localValue).then(function(){e.goToPage("devise-pages-index")})},retrievePage:function(){var e=this;this.getPage(this.$route.params.pageId).then(function(t){e.localValue=l()({},e.localValue,t.data.page),e.localValue.versions.map(function(t){e.$set(t,"editName",!1)}),e.pageToTranslate.slug=e.localValue.slug,window.deviseSettings.$bus.$emit("incrementLoadbar",e.modulesToLoad),e.retrieveAnalytics()})},retrieveAllLanguages:function(){var e=this;this.getLanguages().then(function(){window.deviseSettings.$bus.$emit("incrementLoadbar",e.modulesToLoad)})},setDefaultAnalytics:function(){var e=new Date,t=new Date;t.setDate(t.getDate()-7),this.analyticsDateRange.end=this.formatDate(e),this.analyticsDateRange.start=this.formatDate(t)},retrieveAnalytics:function(){var e=this;this.mothershipApiKey&&("string"!==typeof this.analyticsDateRange.start&&this.analyticsDateRange.start[0]&&(this.analyticsDateRange.start=this.formatDate(new Date(this.analyticsDateRange.start[0]))),"string"!==typeof this.analyticsDateRange.end&&this.analyticsDateRange.end[0]&&(this.analyticsDateRange.end=this.formatDate(new Date(this.analyticsDateRange.end[0]))),this.getPageAnalytics({slug:this.localValue.slug,dates:e.analyticsDateRange}).then(function(t){t.data.data.datasets.map(function(t,a){return t.backgroundColor=[e.colors[a].background],t.fontColor=e.theme.panel.color,t.borderColor=[e.colors[a].border],t.pointRadius=4,t.pointHoverRadius=10,t.fill=!1,t}),e.$set(e,"analytics",t.data)}))},toggleVersionSettings:function(e){this.$set(e,"showSettings",!e.showSettings)}}),computed:Object(o["a"])({},Object(r["c"])("devise",["languages","mothershipApiKey"]),Object(r["d"])("devise",["layouts"]),{options:function(){return{width:"8000px",legend:{labels:{fontColor:this.theme.panel.color,fontSize:14}},scales:{yAxes:[{ticks:{fontColor:this.theme.panel.color,fontSize:12}}],xAxes:[{ticks:{fontColor:this.theme.panel.color,fontSize:12}}]}}}}),components:{DatePicker:function(){return Promise.all([a.e("devise-editors~devise-utilities"),a.e("devise-utilities")]).then(a.bind(null,"7e6e"))},DeviseModal:function(){return Promise.all([a.e("devise-editors~devise-utilities"),a.e("devise-utilities")]).then(a.bind(null,"025b"))},TrashIcon:function(){return a.e("devise-icons").then(a.bind(null,"b02d"))},CopyIcon:function(){return a.e("devise-icons").then(a.bind(null,"01de"))},EditIcon:function(){return a.e("devise-icons").then(a.bind(null,"39b0"))},CheckmarkIcon:function(){return a.e("devise-icons").then(a.bind(null,"8412"))},LineChart:function(){return a.e("devise-charts").then(a.bind(null,"379e"))},MetaForm:function(){return a.e("devise-meta").then(a.bind(null,"bcdb"))}},mixins:[u["a"],c["a"]]},v=d,g=a("0c7c"),h=Object(g["a"])(v,s,n,!1,null,null,null);t["default"]=h.exports},"54f8":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!==e.analytics?a("panel",{staticClass:"dvs-fixed dvs-pin-b dvs-pin-r dvs-z-30 dvs-mr-8 dvs-mb-8 dvs-p-4 dvs-pb-0",attrs:{id:"devise-in-page-analytics","panel-style":e.theme.panel}},[e.anlyticsHasData?a("div",{staticClass:"dvs-flex dvs-p-4"},[a("div",{staticClass:"dvs-flex dvs-flex-wrap dvs-justify-around dvs-w-full"},[a("stat-block-doughnut",{staticClass:"dvs-mr-4 dvs-mb-4",attrs:{analytics:this.analytics,stat:"Sessions"}}),a("stat-block-doughnut",{staticClass:"dvs-mr-4 dvs-mb-4",attrs:{analytics:this.analytics,stat:"Page Views"}}),a("stat-block-doughnut",{staticClass:"dvs-mr-4 dvs-mb-4",attrs:{analytics:this.analytics,stat:"Bounce Rate"}}),a("stat-block-doughnut",{attrs:{analytics:this.analytics,stat:"Time On Page"}})],1)]):a("div",{staticClass:"dvs-p-8 dvs-pt-4 dvs-text-center"},[e._v("It appears there is not enough data in Google Analytics yet to present statistics. There needs to be at least one week of data and then we will start showing you how this page is performing!")])]):e._e()},n=[],i=a("cebc"),l=a("2f62"),o=a("6e12"),r={data:function(){return{analytics:null,minimized:!1}},mounted:function(){this.retrieveAnalytics()},methods:Object(i["a"])({},Object(l["b"])("devise",["getPageAnalyticsTotals"]),{retrieveAnalytics:function(){var e=this;if(this.mothershipApiKey){var t=new Date;t.setDate(t.getDate()-1),this.getPageAnalyticsTotals({slug:this.currentPage.slug,date:this.formatDate(t)}).then(function(t){e.$set(e,"analytics",t.data)})}}}),computed:Object(i["a"])({},Object(l["c"])("devise",["mothershipApiKey","currentPage"]),{anlyticsHasData:function(){for(var e in this.analytics)if(null===this.analytics[e])return!1;return!0}}),components:{Panel:function(){return Promise.all([a.e("devise-editors~devise-utilities"),a.e("devise-utilities")]).then(a.bind(null,"cb57"))},StatBlockDoughnut:function(){return a.e("devise-charts").then(a.bind(null,"ee23"))}},mixins:[o["a"]]},c=r,u=a("0c7c"),d=Object(u["a"])(c,s,n,!1,null,null,null);t["default"]=d.exports},"5a0c":function(e,t,a){!function(t,a){e.exports=a()}(0,function(){"use strict";var e="millisecond",t="second",a="minute",s="hour",n="day",i="week",l="month",o="quarter",r="year",c=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,u=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=function(e,t,a){var s=String(e);return!s||s.length>=t?e:""+Array(t+1-s.length).join(a)+e},v={s:d,z:function(e){var t=-e.utcOffset(),a=Math.abs(t),s=Math.floor(a/60),n=a%60;return(t<=0?"+":"-")+d(s,2,"0")+":"+d(n,2,"0")},m:function(e,t){var a=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(a,l),n=t-s<0,i=e.clone().add(a+(n?-1:1),l);return Number(-(a+(t-s)/(n?s-i:i-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(c){return{M:l,y:r,w:i,d:n,h:s,m:a,s:t,ms:e,Q:o}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h="en",p={};p[h]=g;var m=function(e){return e instanceof _},f=function(e,t,a){var s;if(!e)return null;if("string"==typeof e)p[e]&&(s=e),t&&(p[e]=t,s=e);else{var n=e.name;p[n]=e,s=n}return a||(h=s),s},b=function(e,t,a){if(m(e))return e.clone();var s=t?"string"==typeof t?{format:t,pl:a}:t:{};return s.date=e,new _(s)},y=v;y.l=f,y.i=m,y.w=function(e,t){return b(e,{locale:t.$L,utc:t.$u})};var _=function(){function d(e){this.$L=this.$L||f(e.locale,null,!0)||h,this.parse(e)}var v=d.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,a=e.utc;if(null===t)return new Date(NaN);if(y.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var s=t.match(c);if(s)return a?new Date(Date.UTC(s[1],s[2]-1,s[3]||1,s[4]||0,s[5]||0,s[6]||0,s[7]||0)):new Date(s[1],s[2]-1,s[3]||1,s[4]||0,s[5]||0,s[6]||0,s[7]||0)}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return y},v.isValid=function(){return!("Invalid Date"===this.$d.toString())},v.isSame=function(e,t){var a=b(e);return this.startOf(t)<=a&&a<=this.endOf(t)},v.isAfter=function(e,t){return b(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<b(e)},v.$g=function(e,t,a){return y.u(e)?this[t]:this.set(a,e)},v.year=function(e){return this.$g(e,"$y",r)},v.month=function(e){return this.$g(e,"$M",l)},v.day=function(e){return this.$g(e,"$W",n)},v.date=function(e){return this.$g(e,"$D","date")},v.hour=function(e){return this.$g(e,"$H",s)},v.minute=function(e){return this.$g(e,"$m",a)},v.second=function(e){return this.$g(e,"$s",t)},v.millisecond=function(t){return this.$g(t,"$ms",e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,o){var c=this,u=!!y.u(o)||o,d=y.p(e),v=function(e,t){var a=y.w(c.$u?Date.UTC(c.$y,t,e):new Date(c.$y,t,e),c);return u?a:a.endOf(n)},g=function(e,t){return y.w(c.toDate()[e].apply(c.toDate(),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),c)},h=this.$W,p=this.$M,m=this.$D,f="set"+(this.$u?"UTC":"");switch(d){case r:return u?v(1,0):v(31,11);case l:return u?v(1,p):v(0,p+1);case i:var b=this.$locale().weekStart||0,_=(h<b?h+7:h)-b;return v(u?m-_:m+(6-_),p);case n:case"date":return g(f+"Hours",0);case s:return g(f+"Minutes",1);case a:return g(f+"Seconds",2);case t:return g(f+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(i,o){var c,u=y.p(i),d="set"+(this.$u?"UTC":""),v=(c={},c[n]=d+"Date",c.date=d+"Date",c[l]=d+"Month",c[r]=d+"FullYear",c[s]=d+"Hours",c[a]=d+"Minutes",c[t]=d+"Seconds",c[e]=d+"Milliseconds",c)[u],g=u===n?this.$D+(o-this.$W):o;if(u===l||u===r){var h=this.clone().set("date",1);h.$d[v](g),h.init(),this.$d=h.set("date",Math.min(this.$D,h.daysInMonth())).toDate()}else v&&this.$d[v](g);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[y.p(e)]()},v.add=function(e,o){var c,u=this;e=Number(e);var d=y.p(o),v=function(t){var a=new Date(u.$d);return a.setDate(a.getDate()+t*e),y.w(a,u)};if(d===l)return this.set(l,this.$M+e);if(d===r)return this.set(r,this.$y+e);if(d===n)return v(1);if(d===i)return v(7);var g=(c={},c[a]=6e4,c[s]=36e5,c[t]=1e3,c)[d]||1,h=this.valueOf()+e*g;return y.w(h,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var a=e||"YYYY-MM-DDTHH:mm:ssZ",s=y.z(this),n=this.$locale(),i=n.weekdays,l=n.months,o=function(e,t,a,s){return e&&e[t]||a[t].substr(0,s)},r=function(e){return y.s(t.$H%12||12,e,"0")},c={YY:String(this.$y).slice(-2),YYYY:String(this.$y),M:String(this.$M+1),MM:y.s(this.$M+1,2,"0"),MMM:o(n.monthsShort,this.$M,l,3),MMMM:l[this.$M],D:String(this.$D),DD:y.s(this.$D,2,"0"),d:String(this.$W),dd:o(n.weekdaysMin,this.$W,i,2),ddd:o(n.weekdaysShort,this.$W,i,3),dddd:i[this.$W],H:String(this.$H),HH:y.s(this.$H,2,"0"),h:r(1),hh:r(2),a:this.$H<12?"am":"pm",A:this.$H<12?"AM":"PM",m:String(this.$m),mm:y.s(this.$m,2,"0"),s:String(this.$s),ss:y.s(this.$s,2,"0"),SSS:y.s(this.$ms,3,"0"),Z:s};return a.replace(u,function(e,t){return t||c[e]||s.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(e,c,u){var d,v=y.p(c),g=b(e),h=6e4*(g.utcOffset()-this.utcOffset()),p=this-g,m=y.m(this,g);return m=(d={},d[r]=m/12,d[l]=m,d[o]=m/3,d[i]=(p-h)/6048e5,d[n]=(p-h)/864e5,d[s]=p/36e5,d[a]=p/6e4,d[t]=p/1e3,d)[v]||p,u?m:y.a(m)},v.daysInMonth=function(){return this.endOf(l).$D},v.$locale=function(){return p[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var a=this.clone();return a.$L=f(e,t,!0),a},v.clone=function(){return y.w(this.toDate(),this)},v.toDate=function(){return new Date(this.$d)},v.toJSON=function(){return this.toISOString()},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},d}();return b.prototype=_.prototype,b.extend=function(e,t){return e(t,_,b),b},b.locale=f,b.isDayjs=m,b.unix=function(e){return b(1e3*e)},b.en=p[h],b.Ls=p,b})},"6e12":function(e,t,a){"use strict";var s=a("5a0c"),n=a.n(s);t["a"]={methods:{formatDate:function(e){return n()(e).format("YYYY-MM-DD")}}}},ac5d:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{attrs:{id:"devise-admin-content"}},[a("h3",{staticClass:"dvs-mb-4",style:{color:e.theme.panel.color}},[e._v("Create new page")]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Page Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPage.title,expression:"newPage.title"}],attrs:{type:"text",placeholder:"Title of the Page"},domProps:{value:e.newPage.title},on:{input:function(t){t.target.composing||e.$set(e.newPage,"title",t.target.value)}}})]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Copy Look of existing page")]),a("div",{staticClass:"dvs-flex dvs-mb-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPage.copy_page,expression:"newPage.copy_page"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newPage.copy_page)?e._i(e.newPage.copy_page,null)>-1:e.newPage.copy_page},on:{change:function(t){var a=e.newPage.copy_page,s=t.target,n=!!s.checked;if(Array.isArray(a)){var i=null,l=e._i(a,i);s.checked?l<0&&e.$set(e.newPage,"copy_page",a.concat([i])):l>-1&&e.$set(e.newPage,"copy_page",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(e.newPage,"copy_page",n)}}})]),e.newPage.copy_page?a("div",[a("page-search",{attrs:{placeholder:e.newPage.copy_page_title},on:{selected:e.setCopyPage}}),a("help",{staticClass:"dvs-mt-4"},[a("p",[e._v("Will copy layout, slices, and field values from selected page.")])])],1):e._e()]),e.newPage.copy_page?e._e():a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Layout")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.newPage.layout,expression:"newPage.layout"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.newPage,"layout",t.target.multiple?a:a[0])}}},e._l(e.layouts,function(t,s){return a("option",{key:t,domProps:{value:t}},[e._v(e._s(s))])}),0)]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Language")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.newPage.language_id,expression:"newPage.language_id"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.newPage,"language_id",t.target.multiple?a:a[0])}}},[a("option",{domProps:{value:null}},[e._v("Please select a language")]),e._l(e.languages.data,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n          "+e._s(t.code)+"\n        ")])})],2)]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Slug")]),a("div",{staticClass:"dvs-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPage.slug,expression:"newPage.slug"}],attrs:{type:"text",placeholder:"Url of the Page"},domProps:{value:e.newPage.slug},on:{input:function(t){t.target.composing||e.$set(e.newPage,"slug",t.target.value)}}})])]),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Published?")]),a("div",{staticClass:"dvs-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPage.published,expression:"newPage.published"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newPage.published)?e._i(e.newPage.published,null)>-1:e.newPage.published},on:{change:function(t){var a=e.newPage.published,s=t.target,n=!!s.checked;if(Array.isArray(a)){var i=null,l=e._i(a,i);s.checked?l<0&&e.$set(e.newPage,"published",a.concat([i])):l>-1&&e.$set(e.newPage,"published",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(e.newPage,"published",n)}}})])]),a("button",{staticClass:"dvs-btn",style:e.theme.actionButton,attrs:{disabled:e.createInvalid},on:{click:e.requestCreatePage}},[e._v("Create")]),a("button",{staticClass:"dvs-btn",style:e.theme.actionButtonGhost,on:{click:function(t){e.showCreate=!1}}},[e._v("Cancel")])])])},n=[],i=a("cebc"),l=a("492a"),o=a.n(l),r=a("2f62"),c={name:"PagesCreate",data:function(){return{newPage:{layout:"",language_id:null,translated_from_page_id:0,title:null,slug:null,canonical:null,head:null,footer:null,middleware:"web",published:!1,copy_page:!1,copy_page_id:0,copy_page_title:"Search Page"}}},mounted:function(){window.deviseSettings.$page.site.settings.hasOwnProperty("defaultLayout")&&(this.newPage.layout=window.deviseSettings.$page.site.settings.defaultLayout)},methods:Object(i["a"])({},Object(r["b"])("devise",["getPages","searchPages","getLanguages","createPage"]),{requestCreatePage:function(){var e=this;this.createPage(this.newPage).then(function(){window.location.href=e.newPage.slug})},retrieveAllLanguages:function(){var e=this;this.getLanguages().then(function(){window.deviseSettings.$bus.$emit("incrementLoadbar",e.modulesToLoad)})},setCopyPage:function(e){this.newPage.copy_page_id=e.id,this.newPage.copy_page_title=e.title},loadPage:function(e){this.$router.push({name:"devise-pages-view",params:{pageId:e}})}}),computed:Object(i["a"])({},Object(r["c"])("devise",["languages"]),{createInvalid:function(){return null===this.newPage.title||null===this.newPage.layout&&!this.newPage.copy_page&&0===this.newPage.copy_page_id||null===this.newPage.language_id||null===this.newPage.slug},layouts:function(){return window.deviseSettings.$config.layouts}}),components:{PageSearch:function(){return Promise.all([a.e("devise-editors~devise-utilities"),a.e("devise-utilities")]).then(a.bind(null,"59b2"))}},directives:{debounce:o.a}},u=c,d=a("0c7c"),v=Object(d["a"])(u,s,n,!1,null,null,null);t["default"]=v.exports},b8f9:function(e,t){e.exports=function(e,t){var a=null;return function(){clearTimeout(a);var s=arguments,n=this;a=setTimeout(function(){e.apply(n,s)},t)}}}}]);
//# sourceMappingURL=devise-pages.js.map